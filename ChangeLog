# do not edit -- automatically generated by arch changelog
# arch-tag: automatic-ChangeLog--lcourtes@laas.fr--2006-libre/guile-rpc--devo--0
#

2007-03-21 13:52:49 GMT	Ludovic Courtes <ludovic.courtes@laas.fr>	patch-34

    Summary:
      `grpc-rpcinfo': Added support for `--delete'.
    Revision:
      guile-rpc--devo--0--patch-34

    * utils/grpc-rpcinfo.in (%options)[delete]: New.
      (show-help): Mention `--delete'.
      (host-portmapper-socket-address): New, formerly in `main'.
      (rpc-info): Use it.  Handle `--delete'.

    modified files:
     ChangeLog utils/grpc-rpcinfo.in

    new patches:
     lcourtes@laas.fr--2005-mobile/guile-rpc--devo--0--patch-2


2007-03-21 13:52:04 GMT	Ludovic Courtes <ludovic.courtes@laas.fr>	patch-33

    Summary:
      Added preliminary support for the RPC portmapper.
    Revision:
      guile-rpc--devo--0--patch-33

    * Makefile.am (SUBDIRS): Added `utils'.
    
    * configure.ac: Output `utils/Makefile' and `utils/grpc-rpcinfo'.
    
    * modules/Makefile.am (nobase_dist_guilemodule_DATA): Added
      `rpc/rpc/portmap.scm'.

    new files:
     modules/rpc/rpc/portmap.scm utils/.arch-ids/=id
     utils/.arch-ids/Makefile.am.id
     utils/.arch-ids/grpc-rpcinfo.in.id utils/.arch-inventory
     utils/Makefile.am utils/grpc-rpcinfo.in

    modified files:
     ChangeLog Makefile.am configure.ac modules/Makefile.am

    new directories:
     utils utils/.arch-ids

    new patches:
     lcourtes@laas.fr--2005-mobile/guile-rpc--devo--0--base-0
     lcourtes@laas.fr--2005-mobile/guile-rpc--devo--0--patch-1


2007-03-04 18:46:46 GMT	Ludovic Courtes <ludovic.courtes@laas.fr>	patch-32

    Summary:
      doc: Fixed typo.
    Revision:
      guile-rpc--devo--0--patch-32

    * doc/guile-rpc.texi (Creating the Server): Fixed typo in the example.

    modified files:
     ChangeLog doc/guile-rpc.texi


2007-03-04 18:02:38 GMT	Ludovic Courtes <ludovic.courtes@laas.fr>	patch-31

    Summary:
      Switch to version 0.1.
    Revision:
      guile-rpc--devo--0--patch-31

    * configure.ac: Bumped version number to 0.1.

    modified files:
     ChangeLog configure.ac


2007-03-04 16:59:53 GMT	Ludovic Courtes <ludovic.courtes@laas.fr>	patch-30

    Summary:
      Removed useless stuff from `configure.ac'.
    Revision:
      guile-rpc--devo--0--patch-30

    * configure.ac: Don't invoke `GUILE_FLAGS', don't look for `guile-snarf'.

    modified files:
     ChangeLog configure.ac


2007-03-04 16:57:23 GMT	Ludovic Courtes <ludovic.courtes@laas.fr>	patch-29

    Summary:
      doc: Completed (roughly).
    Revision:
      guile-rpc--devo--0--patch-29

    * doc/guile-rpc.texi: Replace "the Free Software Foundation" by "the
      author" in the "Permission is granted [...] translations" paragraph.
      (Record Marking Standard): Filled in.
      (Variable Index): New.

    modified files:
     ChangeLog doc/guile-rpc.texi


2007-03-03 14:41:00 GMT	Ludovic Courtes <ludovic.courtes@laas.fr>	patch-28

    Summary:
      doc: Added a server example, documented server creation.
    Revision:
      guile-rpc--devo--0--patch-28


    modified files:
     ChangeLog doc/guile-rpc.texi


2007-03-01 22:19:52 GMT	Ludovic Courtes <ludovic.courtes@laas.fr>	patch-27

    Summary:
      doc: Documented RPC clients and message types.
    Revision:
      guile-rpc--devo--0--patch-27

    * doc/guile-rpc.texi (Building an RPC Client): Added meat.
      (ONC RPC Message Types): Likewise.
    
    * modules/rpc/rpc.scm (assert-successful-reply): Fixed docstring.

    modified files:
     ChangeLog doc/guile-rpc.texi modules/rpc/rpc.scm


2007-02-27 21:12:36 GMT	Ludovic Courtes <ludovic.courtes@laas.fr>	patch-26

    Summary:
      doc: Documented XDR handling.
    Revision:
      guile-rpc--devo--0--patch-26

    * doc/guile-rpc.texi (API Reference)[Implementation of XDR]: Filled in.
    
    * modules/rpc/xdr.scm (xdr-encode!): Updated docstring.

    modified files:
     ChangeLog doc/guile-rpc.texi modules/rpc/xdr.scm


2007-02-27 14:45:21 GMT	Ludovic Court`es <ludovic.courtes@laas.fr>	patch-25

    Summary:
      Added a simple yet convenient TCP server lookup.
    Revision:
      guile-rpc--devo--0--patch-25

    * modules/rpc/rpc/server.scm: Use `(rpc rpc transports)' and `srfi-39'.
      (serve-one-tcp-request, <tcp-connection>, current-tcp-connection,
      run-tcp-rpc-server): New procedures.

    modified files:
     ChangeLog modules/rpc/rpc/server.scm


2007-02-26 18:10:03 GMT	Ludovic Court`es <ludovic.courtes@laas.fr>	patch-24

    Summary:
      Told Automake about `rpc/rpc/server.scm'.
    Revision:
      guile-rpc--devo--0--patch-24

    * modules/Makefile.am (nobase_dist_guilemodule_DATA): Added
      `rpc/rpc/server.scm'.

    modified files:
     ChangeLog modules/Makefile.am


2007-02-26 17:15:50 GMT	Ludovic Court`es <ludovic.courtes@laas.fr>	patch-23

    Summary:
      Added server-side support.
    Revision:
      guile-rpc--devo--0--patch-23

    * tests/rpc.test: Use `(rpc rpc server)'.
      ("procedure-call-information", "procedure lookup", "procedure lookup
      error", "procedure lookup error handling"): New tests.

    new files:
     modules/rpc/rpc/server.scm

    modified files:
     ChangeLog tests/rpc.test


2007-02-26 17:10:47 GMT	Ludovic Court`es <ludovic.courtes@laas.fr>	patch-22

    Summary:
      transports: Added well-placed commented debugging statements.
    Revision:
      guile-rpc--devo--0--patch-22

    * modules/rpc/rpc/transports.scm
      (rpc-record-marking-input-port)[read!](leave-fragment!): Removed.  Left
      various useful `format' statements.

    modified files:
     ChangeLog modules/rpc/rpc/transports.scm


2007-02-23 16:37:58 GMT	Ludovic Court`es <ludovic.courtes@laas.fr>	patch-21

    Summary:
      xdr: Optimized enumeration encoding/decoding.
    Revision:
      guile-rpc--devo--0--patch-21

    * modules/rpc/xdr/types.scm (make-xdr-enumeration)[symbol->integer,
      integer->symbol]: New.  Use them.

    modified files:
     ChangeLog modules/rpc/xdr/types.scm


2007-02-23 16:19:08 GMT	Ludovic Court`es <ludovic.courtes@laas.fr>	patch-20

    Summary:
      xdr: Optimized decoding by adding support for per-type vector decoders.
    Revision:
      guile-rpc--devo--0--patch-20

    * modules/rpc/xdr.scm (<xdr-basic-type>)[vector-decoder]: New field.
      (make-xdr-basic-type): Accept an additional VECTOR-DECODER argument.
      (xdr-decode): For vectors, use the base type's vector decoder when
      available.
    
    * modules/rpc/xdr/types.scm (xdr-integer, xdr-unsigned-integer,
      make-xdr-enumeration, xdr-hyper-integer, xdr-unsigned-hyper-integer,
      xdr-single-opaque): Added specialized vector decoders.

    modified files:
     ChangeLog modules/rpc/xdr.scm modules/rpc/xdr/types.scm


2007-02-23 14:20:22 GMT	Ludovic Court`es <ludovic.courtes@laas.fr>	patch-19

    Summary:
      rpc/transport: Fixed stupid typos.
    Revision:
      guile-rpc--devo--0--patch-19

    * modules/rpc/rpc.scm: Fixed symbols for autoloading of `(rpc rpc
      transports)'.
      (make-synchronous-rpc-call): Replaced `rpc-send-record' by
      `send-rpc-record'.
    
    * modules/rpc/rpc/transports.scm (send-rpc-record): Fixed (didn't send
      anything).

    modified files:
     ChangeLog modules/rpc/rpc.scm modules/rpc/rpc/transports.scm


2007-02-23 10:05:39 GMT	Ludovic Court`es <ludovic.courtes@laas.fr>	patch-18

    Summary:
      Added a proper implementation of the record marking standard.
    Revision:
      guile-rpc--devo--0--patch-18

    * modules/rpc/rpc.scm: Use `(ice-9 optargs)'.
      (%onc-rpc-version): New.
      (make-rpc-call-message): Use it.
      (make-synchronous-rpc-call): Added optional arguments to the returned
      procedure: SEND-MESSAGE and WRAP-INPUT-PORT.  Use `rpc-send-record' and
      `rpc-record-marking-input-port' by default.
    
    * modules/rpc/rpc/transports.scm (tcp-send-rpc-message): Renamed to
      `make-rpc-record-sender'.
      (send-rpc-record): New.
      (rpc-record-marking-input-port): New.
      (tcp-skip-record-header): Removed.
    
    * tests/rpc.test: Use `(rpc rpc transports)' and `(srfi srfi-11)'.
      (record marking): New test.

    modified files:
     ChangeLog modules/rpc/rpc.scm modules/rpc/rpc/transports.scm
     tests/rpc.test


2007-02-21 16:45:08 GMT	Ludovic Court`es <ludovic.courtes@laas.fr>	patch-17

    Summary:
      Fixed vector padding handling in `xdr-decode'.
    Revision:
      guile-rpc--devo--0--patch-17

    * modules/rpc/xdr.scm (xdr-decode)[vector-padding]: Multiply the size of
      BASE-TYPE by COUNT.  This is needed to account for types whose size is
      less than %XDR-ATOM-SIZE, such as XDR-SINGLE-OPAQUE.
    
    * tests/xdr-encoding.test (consecutive strings with padding): New.

    modified files:
     ChangeLog modules/rpc/xdr.scm tests/xdr-encoding.test


2007-02-20 17:07:04 GMT	Ludovic Court`es <ludovic.courtes@laas.fr>	patch-16

    Summary:
      xdr: Added support for single-precision floats.
    Revision:
      guile-rpc--devo--0--patch-16

    * modules/rpc/xdr/types.scm (xdr-float): New.
    
    * tests/xdr-encoding.test: Use it.
    
    * tests/xdr.test: Likewise.

    modified files:
     ChangeLog modules/rpc/xdr/types.scm tests/xdr-encoding.test
     tests/xdr.test


2007-02-19 16:32:26 GMT	Ludovic Court`es <ludovic.courtes@laas.fr>	patch-15

    Summary:
      Added a `doc' directory.
    Revision:
      guile-rpc--devo--0--patch-15

    * Makefile.am (SUBDIRS): Added `doc'.
    
    * configure.ac: Output `doc/Makefile'.

    new files:
     doc/.arch-ids/=id doc/.arch-ids/Makefile.am.id
     doc/.arch-inventory doc/Makefile.am doc/guile-rpc.texi

    modified files:
     ChangeLog Makefile.am configure.ac

    new directories:
     doc doc/.arch-ids


2007-02-19 14:40:35 GMT	Ludovic Court`es <ludovic.courtes@laas.fr>	patch-14

    Summary:
      xdr: Added support for (ASCII) strings.
    Revision:
      guile-rpc--devo--0--patch-14

    * modules/rpc/xdr.scm (xdr-string, make-xdr-string): New.
    
    * modules/rpc/xdr.scm: Cosmetic changes.

    modified files:
     ChangeLog modules/rpc/xdr.scm modules/rpc/xdr/types.scm


2007-02-19 14:24:33 GMT	Ludovic Court`es <ludovic.courtes@laas.fr>	patch-13

    Summary:
      Support size limits on vector types.
    Revision:
      guile-rpc--devo--0--patch-13

    * modules/rpc/rpc/types.scm (rpc-opaque-auth): Implement the 400-octet
      limit.
    
    * modules/rpc/xdr.scm (<xdr-vector-type>)[make-xdr-vector-type]: Taken an
      additional MAX-ELEMENT-COUNT argument.
      [max-element-count]: New field.
      (&xdr-vector-size-exceeded-error): New error condition.
      (%max-vector-size): New.
      (xdr-encode!): Check whether LEN exceeds the maximum possible size.
      (xdr-decode): Likewise.
    
    * modules/rpc/xdr/types.scm (make-xdr-variable-length-opaque-array): New.
    
    * tests/xdr-encoding.test: Updated callers of `make-xdr-vector-type'.
      Added new tests for the `&xdr-vector-size-exceeded-error' error.
    
    * tests/xdr.test: Updated callers of `make-xdr-vector-type'.

    modified files:
     ChangeLog modules/rpc/rpc/types.scm modules/rpc/xdr.scm
     modules/rpc/xdr/types.scm tests/xdr-encoding.test
     tests/xdr.test


2007-02-19 13:41:38 GMT	Ludovic Court`es <ludovic.courtes@laas.fr>	patch-12

    Summary:
      Renamed `assert-accepted-reply' to `assert-successful-reply'.
    Revision:
      guile-rpc--devo--0--patch-12


    modified files:
     ChangeLog modules/rpc/rpc.scm tests/rpc.test


2007-02-19 13:39:27 GMT	Ludovic Court`es <ludovic.courtes@laas.fr>	patch-11

    Summary:
      Translate RPC errors into SRFI-35 error conditions.
    Revision:
      guile-rpc--devo--0--patch-11

    * modules/rpc/rpc.scm: Use `srfi-3[45]'.
      (&rpc-error, &rpc-call-error, &rpc-invalid-reply-error,
      &rpc-invalid-reply-xid-error, &rpc-program-unavailable-error,
      &rpc-program-mismatch-error, &rpc-procedure-unavailable-error,
      &rpc-garbage-arguments-error, &rpc-system-error,
      &rpc-authentication-error): New error conditions.
      (make-rpc-accepted-reply-message): Fixed the `PROG_MISMATCH' case.
      (make-rpc-denied-reply-message): New.
      (assert-accepted-reply): Raise exceptions instead of using `error'.
    
    * tests/rpc.test: Use `srfi-34'.  New tests checking the exceptions
      raised in case of unsuccessful replies.

    modified files:
     ChangeLog modules/rpc/rpc.scm tests/rpc.test


2007-02-16 15:43:11 GMT	Ludovic Court`es <ludovic.courtes@laas.fr>	patch-10

    Summary:
      Fixed file headers.
    Revision:
      guile-rpc--devo--0--patch-10


    modified files:
     ChangeLog modules/rpc/rpc.scm modules/rpc/rpc/transports.scm
     modules/rpc/rpc/types.scm modules/rpc/xdr.scm
     modules/rpc/xdr/types.scm tests/rpc.test
     tests/xdr-encoding.test tests/xdr.test


2007-02-16 15:39:06 GMT	Ludovic Court`es <ludovic.courtes@laas.fr>	patch-9

    Summary:
      Added ONC RPC code base.
    Revision:
      guile-rpc--devo--0--patch-9

    * modules/Makefile.am (nobase_dist_guilemodule_DATA): Added new headers.
    
    * modules/rpc/rpc.scm: Added meat.
    
    * tests/Makefile.am (TESTS): Added `rpc.tests'.

    new files:
     modules/rpc/rpc/.arch-ids/=id modules/rpc/rpc/transports.scm
     modules/rpc/rpc/types.scm tests/rpc.test

    modified files:
     ChangeLog modules/Makefile.am modules/rpc/rpc.scm
     tests/Makefile.am

    new directories:
     modules/rpc/rpc modules/rpc/rpc/.arch-ids


2007-02-16 15:05:37 GMT	Ludovic Court`es <ludovic.courtes@laas.fr>	patch-8

    Summary:
      xdr: Fixed empty variable-length opaque array decoding.
    Revision:
      guile-rpc--devo--0--patch-8

    * modules/rpc/xdr.scm (xdr-decode)[vector-padding]: Return 0 when COUNT
      is 0.
    
    * modules/rpc/xdr/types.scm (xdr-single-opaque): Check for EOF in the
      decoder.
    
    * tests/xdr-encoding.test (empty variable-length opaque array (without
      padding)): New test.

    modified files:
     ChangeLog modules/rpc/xdr.scm modules/rpc/xdr/types.scm
     tests/xdr-encoding.test


2007-02-16 08:53:07 GMT	Ludovic Court`es <ludovic.courtes@laas.fr>	patch-7

    Summary:
      Properly handle padding of structs and vectors.
    Revision:
      guile-rpc--devo--0--patch-7

    * modules/rpc/xdr.scm (%xdr-atom-size, round-up-size): New.
      (make-xdr-struct-type): Handle PADDING.
      (xdr-type-size): Round up the size of structs and vectors.
      (xdr-encode!): Likewise.
      (xdr-decode)[vector-padding]: New.
      Read padding for vectors and structs.
    
    * tests/xdr-encoding.test: New tests for padding.
    
    * tests/xdr.test: Likewise.

    modified files:
     ChangeLog modules/rpc/xdr.scm tests/xdr-encoding.test
     tests/xdr.test


2007-02-15 16:30:07 GMT	Ludovic Court`es <ludovic.courtes@laas.fr>	patch-6

    Summary:
      Use ports instead of bytevectors for XDR decoding.
    Revision:
      guile-rpc--devo--0--patch-6

    * modules/rpc/xdr.scm: Autoload `(r6rs i/o ports)'.
      (xdr-decode): Take TYPE and PORT instead of BV, INDEX and TYPE.
    
    * modules/rpc/xdr/types.scm: Use `(r6rs i/o ports)'.  Updated basic type
      decoders.
      (%void, xdr-void): New.
    
    * tests/xdr-encoding.test: Use `(r6rs i/o ports)'.  Updated tests.  Added
      two tests for `xdr-void'.

    modified files:
     ChangeLog modules/rpc/xdr.scm modules/rpc/xdr/types.scm
     tests/xdr-encoding.test


2007-02-15 14:43:33 GMT	Ludovic Court`es <ludovic.courtes@laas.fr>	patch-5

    Summary:
      Return discriminant/value pairs when decoding unions.
    Revision:
      guile-rpc--devo--0--patch-5

    * modules/rpc/xdr.scm (xdr-decode!): Return a discriminant/value pairs
      for unions instead of just the value.
    
    * tests/xdr-encoding.test: Updated accordingly.

    modified files:
     ChangeLog modules/rpc/xdr.scm tests/xdr-encoding.test


2007-02-14 14:45:59 GMT	Ludovic Court`es <ludovic.courtes@laas.fr>	patch-4

    Summary:
      xdr: Added support for booleans.
    Revision:
      guile-rpc--devo--0--patch-4

    * modules/rpc/xdr/types.scm (xdr-boolean): New.
    
    * tests/xdr-encoding.test: New test.

    modified files:
     ChangeLog modules/rpc/xdr/types.scm tests/xdr-encoding.test


2007-02-14 14:36:46 GMT	Ludovic Court`es <ludovic.courtes@laas.fr>	patch-3

    Summary:
      xdr: Added support for unions.
    Revision:
      guile-rpc--devo--0--patch-3

    * modules/rpc/xdr.scm (<xdr-union-type>): New.
      (&xdr-union-discriminant-error): New.
      (make-xdr-union-type): New.
      (make-xdr-struct-type): Handle unions.
      (xdr-types-size): Likewise.
      (xdr-encode!): Likewise.
      (xdr-decode): Likewise.
    
    * tests/xdr-encoding.test: New tests.
    
    * tests/xdr.test: Likewise.

    modified files:
     ChangeLog modules/rpc/xdr.scm tests/xdr-encoding.test
     tests/xdr.test


2007-02-14 13:04:46 GMT	Ludovic Court`es <ludovic.courtes@laas.fr>	patch-2

    Summary:
      xdr: Use proper SRFI-35 error conditions.
    Revision:
      guile-rpc--devo--0--patch-2

    * configure.ac: Check for `srfi-34' and `srfi-35'.
    
    * modules/rpc/xdr.scm: Load `srfi-34' and `srfi-35'.  Export the new
      error condition types and accessors.  Use them.
    
    * modules/rpc/xdr/types.scm: Likewise.
    
    * tests/xdr-encoding.test: Test type errors with enumeration
      encoding/decoding.

    modified files:
     ChangeLog configure.ac modules/rpc/xdr.scm
     modules/rpc/xdr/types.scm tests/xdr-encoding.test


2007-02-14 09:50:33 GMT	Ludovic Court`es <ludovic.courtes@laas.fr>	patch-1

    Summary:
      Moved XDR types to a separate module; prepended `make-' to XDR type ctors.
    Revision:
      guile-rpc--devo--0--patch-1


    new files:
     modules/rpc/xdr/.arch-ids/=id modules/rpc/xdr/types.scm

    modified files:
     ChangeLog modules/rpc/xdr.scm tests/xdr-encoding.test
     tests/xdr.test

    new directories:
     modules/rpc/xdr modules/rpc/xdr/.arch-ids


2007-02-14 09:33:31 GMT	Ludovic Court`es <ludovic.courtes@laas.fr>	base-0

    Summary:
      initial import
    Revision:
      guile-rpc--devo--0--base-0

    
    (automatically generated log message)

    new files:
     AUTHORS COPYING ChangeLog INSTALL Makefile.am NEWS README
     configure.ac modules/Makefile.am modules/rpc/rpc.scm
     modules/rpc/xdr.scm modules/srfi/srfi-64.scm
     modules/srfi/srfi-64.upstream.scm tests/Makefile.am
     tests/xdr-encoding.test tests/xdr.test


